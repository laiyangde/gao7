<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dom2String</title>
    <script src="../js/jquery.min.js"></script>
    <link rel="stylesheet" href="../css/common.css">
</head>
<style>
    *{margin: 0;padding: 0;}
    .body{width: 960px;margin: 0 auto}
    textarea{width: 100%;display: block;margin-top: 10px;height: 300px;font-size: 16px;padding:10px;}
    #btn{    width: 8em;
    height: 3em;
    margin-top: 20px;
    float: right;cursor: pointer;}
    .title{font-size: 25px;margin-top: 10px;font-weight: bold}
    .red{color: #f55}
</style>
<body>
    <header class="header">
        <nav class="Dom2String">
            <a href="/">首页</a>
            <a href="../Dom2String/" class="active">dom转String</a>
            <a href="../httpProxy/">本地调试不跨域</a>
            <a href="../upload">上传图片</a>
            <a href="../placehold">图片站位</a>
            <i></i>
        </nav>
    </header>
    <section class="body">
        <p><span class="title">使用说明：</span>在输入框里贴上你代码，在需要替换变量的位置写上<span class="red" style="font-size:30px;">{{}}</span>，如&lt;img src="{{}}" alt="" /></p>

        <p style="margin-top: 20px">输入</p>
        <textarea name="sourcehtm" id="sourcehtm" placeholder="<!-- 贴上您的HTML代码 -->"></textarea>
        <input type="button" id="btn" value="解析代码">
        <p style="margin-top: 54px">输出</p>
        
        <textarea name="targethtm" id="targethtm"></textarea>
    </section>
    <script>
        $('#btn').click(function(event) {
            var sourcehtm=$('#sourcehtm').val()
            var targethtm=sourcehtm.replace(/\n/mg,'').replace(/>\s+</mg,'><').replace(/^\"?/,"'").replace(/\"?$/,"'").replace(/{{}}/mg,"'+value+'")
            console.log(targethtm)
            $('#targethtm').val(targethtm)
        });
    </script>
</body>
</html>

